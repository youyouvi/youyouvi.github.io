<!DOCTYPE html>
<html style="display: none;" lang="zh">
    <head>
    <meta charset="utf-8">
    <!--
        © Material Theme
        https://github.com/viosey/hexo-theme-material
        Version: 1.5.0 -->
    <script>
        window.materialVersion = "1.5.0"
        // Delete localstorage with these tags
        window.oldVersion = [
            'codestartv1',
            '1.3.4',
            '1.4.0',
            '1.4.0b1'
        ]
    </script>

    <!-- dns prefetch -->
    <meta http-equiv="x-dns-prefetch-control" content="on">



    <link rel="dns-prefetch" href="https://busuanzi.ibruce.info"/>












    <!-- Title -->
    
    <title>
        
            Go中的类型 | 
        
        Ember
    </title>

    <!-- Meta & Info -->
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="format-detection" content="telephone=no"/>
    <meta name="theme-color" content="#0097A7">
    <meta name="author" content="子语">
    <meta name="description" itemprop="description" content="一切有为法,如梦幻泡影。如露亦如电,应作如是观。">
    <meta name="keywords" content="Blog,Go基础">

    <!-- Import lsloader -->
    <script>(function(){window.lsloader={jsRunSequence:[],jsnamemap:{},cssnamemap:{}};lsloader.removeLS=function(key){try{localStorage.removeItem(key)}catch(e){}};lsloader.setLS=function(key,val){try{localStorage.setItem(key,val)}catch(e){}};lsloader.getLS=function(key){var val="";try{val=localStorage.getItem(key)}catch(e){val=""}return val};versionString="/*"+(window.materialVersion||"unknownVersion")+"*/";lsloader.clean=function(){try{var keys=[];for(var i=0;i<localStorage.length;i++){keys.push(localStorage.key(i))}keys.forEach(function(key){var data=lsloader.getLS(key);if(window.oldVersion){var remove=window.oldVersion.reduce(function(p,c){return p||data.indexOf("/*"+c+"*/")!==-1},false);if(remove){lsloader.removeLS(key)}}})}catch(e){}};lsloader.clean();lsloader.load=function(jsname,jspath,cssonload,isJs){if(typeof cssonload==="boolean"){isJs=cssonload;cssonload=undefined}isJs=isJs||false;cssonload=cssonload||function(){};var code;code=this.getLS(jsname);if(code&&code.indexOf(versionString)===-1){this.removeLS(jsname);this.requestResource(jsname,jspath,cssonload,isJs);return}if(code){var versionNumber=code.split(versionString)[0];if(versionNumber!=jspath){console.log("reload:"+jspath);this.removeLS(jsname);this.requestResource(jsname,jspath,cssonload,isJs);return}code=code.split(versionString)[1];if(isJs){this.jsRunSequence.push({name:jsname,code:code});this.runjs(jspath,jsname,code)}else{document.getElementById(jsname).appendChild(document.createTextNode(code));cssonload()}}else{this.requestResource(jsname,jspath,cssonload,isJs)}};lsloader.requestResource=function(name,path,cssonload,isJs){var that=this;if(isJs){this.iojs(path,name,function(path,name,code){that.setLS(name,path+versionString+code);that.runjs(path,name,code)})}else{this.iocss(path,name,function(code){document.getElementById(name).appendChild(document.createTextNode(code));that.setLS(name,path+versionString+code)},cssonload)}};lsloader.iojs=function(path,jsname,callback){var that=this;that.jsRunSequence.push({name:jsname,code:""});try{var xhr=new XMLHttpRequest;xhr.open("get",path,true);xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status>=200&&xhr.status<300||xhr.status==304){if(xhr.response!=""){callback(path,jsname,xhr.response);return}}that.jsfallback(path,jsname)}};xhr.send(null)}catch(e){that.jsfallback(path,jsname)}};lsloader.iocss=function(path,jsname,callback,cssonload){var that=this;try{var xhr=new XMLHttpRequest;xhr.open("get",path,true);xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status>=200&&xhr.status<300||xhr.status==304){if(xhr.response!=""){callback(xhr.response);cssonload();return}}that.cssfallback(path,jsname,cssonload)}};xhr.send(null)}catch(e){that.cssfallback(path,jsname,cssonload)}};lsloader.iofonts=function(path,jsname,callback,cssonload){var that=this;try{var xhr=new XMLHttpRequest;xhr.open("get",path,true);xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status>=200&&xhr.status<300||xhr.status==304){if(xhr.response!=""){callback(xhr.response);cssonload();return}}that.cssfallback(path,jsname,cssonload)}};xhr.send(null)}catch(e){that.cssfallback(path,jsname,cssonload)}};lsloader.runjs=function(path,name,code){if(!!name&&!!code){for(var k in this.jsRunSequence){if(this.jsRunSequence[k].name==name){this.jsRunSequence[k].code=code}}}if(!!this.jsRunSequence[0]&&!!this.jsRunSequence[0].code&&this.jsRunSequence[0].status!="failed"){var script=document.createElement("script");script.appendChild(document.createTextNode(this.jsRunSequence[0].code));script.type="text/javascript";document.getElementsByTagName("head")[0].appendChild(script);this.jsRunSequence.shift();if(this.jsRunSequence.length>0){this.runjs()}}else if(!!this.jsRunSequence[0]&&this.jsRunSequence[0].status=="failed"){var that=this;var script=document.createElement("script");script.src=this.jsRunSequence[0].path;script.type="text/javascript";this.jsRunSequence[0].status="loading";script.onload=function(){that.jsRunSequence.shift();if(that.jsRunSequence.length>0){that.runjs()}};document.body.appendChild(script)}};lsloader.tagLoad=function(path,name){this.jsRunSequence.push({name:name,code:"",path:path,status:"failed"});this.runjs()};lsloader.jsfallback=function(path,name){if(!!this.jsnamemap[name]){return}else{this.jsnamemap[name]=name}for(var k in this.jsRunSequence){if(this.jsRunSequence[k].name==name){this.jsRunSequence[k].code="";this.jsRunSequence[k].status="failed";this.jsRunSequence[k].path=path}}this.runjs()};lsloader.cssfallback=function(path,name,cssonload){if(!!this.cssnamemap[name]){return}else{this.cssnamemap[name]=1}var link=document.createElement("link");link.type="text/css";link.href=path;link.rel="stylesheet";link.onload=link.onerror=cssonload;var root=document.getElementsByTagName("script")[0];root.parentNode.insertBefore(link,root)};lsloader.runInlineScript=function(scriptId,codeId){var code=document.getElementById(codeId).innerText;this.jsRunSequence.push({name:scriptId,code:code});this.runjs()};lsloader.loadCombo=function(jslist){var updateList="";var requestingModules={};for(var k in jslist){var LS=this.getLS(jslist[k].name);if(!!LS){var version=LS.split(versionString)[0];var code=LS.split(versionString)[1]}else{var version=""}if(version==jslist[k].path){this.jsRunSequence.push({name:jslist[k].name,code:code,path:jslist[k].path})}else{this.jsRunSequence.push({name:jslist[k].name,code:null,path:jslist[k].path,status:"comboloading"});requestingModules[jslist[k].name]=true;updateList+=(updateList==""?"":";")+jslist[k].path}}var that=this;if(!!updateList){var xhr=new XMLHttpRequest;xhr.open("get",combo+updateList,true);xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status>=200&&xhr.status<300||xhr.status==304){if(xhr.response!=""){that.runCombo(xhr.response,requestingModules);return}}else{for(var i in that.jsRunSequence){if(requestingModules[that.jsRunSequence[i].name]){that.jsRunSequence[i].status="failed"}}that.runjs()}}};xhr.send(null)}this.runjs()};lsloader.runCombo=function(comboCode,requestingModules){comboCode=comboCode.split("/*combojs*/");comboCode.shift();for(var k in this.jsRunSequence){if(!!requestingModules[this.jsRunSequence[k].name]&&!!comboCode[0]){this.jsRunSequence[k].status="comboJS";this.jsRunSequence[k].code=comboCode[0];this.setLS(this.jsRunSequence[k].name,this.jsRunSequence[k].path+versionString+comboCode[0]);comboCode.shift()}}this.runjs()}})();</script>

    <!-- Import queue -->
    <script>function Queue(){this.dataStore=[];this.offer=b;this.poll=d;this.execNext=a;this.debug=false;this.startDebug=c;function b(e){if(this.debug){console.log("Offered a Queued Function.")}if(typeof e==="function"){this.dataStore.push(e)}else{console.log("You must offer a function.")}}function d(){if(this.debug){console.log("Polled a Queued Function.")}return this.dataStore.shift()}function a(){var e=this.poll();if(e!==undefined){if(this.debug){console.log("Run a Queued Function.")}e()}}function c(){this.debug=true}}var queue=new Queue();</script>

    <!-- Favicons -->
    <link rel="icon shortcut" type="image/ico" href="/img/fa.png">
    <link rel="icon" sizes="192x192" href="/img/fa.png">
    <link rel="apple-touch-icon" href="/img/mao.png">

    <!--iOS -->
    <meta name="apple-mobile-web-app-title" content="Title">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="480">

    <!-- Add to homescreen for Chrome on Android -->
    <meta name="mobile-web-app-capable" content="yes">

    <!-- Add to homescreen for Safari on iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="Ember">

    <!-- Site Verification -->
    
    <meta name="baidu-site-verification" content="k8tNw6G5YO" />

    <!-- RSS -->
    

    <!--[if lte IE 9]>
        <link rel="stylesheet" href="/css/ie-blocker.css">

        
            <script src="/js/ie-blocker.zhCN.js"></script>
        
    <![endif]-->

    <!-- Import CSS -->
    
        <style id="material_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_css","/css/material.min.css?Z7a72R1E4SxzBKR/WGctOA==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
        <style id="style_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("style_css","/css/style.min.css?MKetZV3cUTfDxvMffaOezg==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>

        
            
                <style id="prettify_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("prettify_css","/css/prettify.min.css?zp8STOU9v89XWFEnN+6YmQ==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
                <style id="prettify_theme"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("prettify_theme","/css/prettify/tomorrow-night-eighties.min.css?2LJQzURO+Kr8r/fl/T8oMA==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
            
        

    

    

    <!-- Config CSS -->

<!-- Other Styles -->
<style>
  body, html {
    font-family: Roboto, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", Arial, sans-serif;
    overflow-x: hidden !important;
  }
  
  code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  a {
    color: #00838F;
  }

  .mdl-card__media,
  #search-label,
  #search-form-label:after,
  #scheme-Paradox .hot_tags-count,
  #scheme-Paradox .sidebar_archives-count,
  #scheme-Paradox .sidebar-colored .sidebar-header,
  #scheme-Paradox .sidebar-colored .sidebar-badge{
    background-color: #000000 !important;
  }

  /* Sidebar User Drop Down Menu Text Color */
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:hover,
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:focus {
    color: #000000 !important;
  }

  #post_entry-right-info,
  .sidebar-colored .sidebar-nav li:hover > a,
  .sidebar-colored .sidebar-nav li:hover > a i,
  .sidebar-colored .sidebar-nav li > a:hover,
  .sidebar-colored .sidebar-nav li > a:hover i,
  .sidebar-colored .sidebar-nav li > a:focus i,
  .sidebar-colored .sidebar-nav > .open > a,
  .sidebar-colored .sidebar-nav > .open > a:hover,
  .sidebar-colored .sidebar-nav > .open > a:focus,
  #ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-head a {
    color: #000000 !important;
  }

  .toTop {
    background: #757575 !important;
  }

  .material-layout .material-post>.material-nav,
  .material-layout .material-index>.material-nav,
  .material-nav a {
    color: #757575;
  }

  #scheme-Paradox .MD-burger-layer {
    background-color: #757575;
  }

  #scheme-Paradox #post-toc-trigger-btn {
    color: #757575;
  }

  .post-toc a:hover {
    color: #00838F;
    text-decoration: underline;
  }

</style>


<!-- Theme Background Related-->

    <style>
      body{
        background-image: url(/img/bg6.jpg);
      }
    </style>




<!-- Fade Effect -->

    <style>
      .fade {
        transition: all 800ms linear;
        -webkit-transform: translate3d(0,0,0);
        -moz-transform: translate3d(0,0,0);
        -ms-transform: translate3d(0,0,0);
        -o-transform: translate3d(0,0,0);
        transform: translate3d(0,0,0);
        opacity: 1;
      }

      .fade.out{
        opacity: 0;
      }
    </style>


<!-- Import Font -->
<!-- Import Roboto -->

    <link href="https://fonts.proxy.ustclug.org/css?family=Roboto:300,400,500" rel="stylesheet">


<!-- Import Material Icon -->

    <link href="https://fonts.proxy.ustclug.org/icon?family=Material+Icons" rel="stylesheet">




    <!-- Import jQuery -->
    
        <script>lsloader.load("jq_js","/js/jquery.min.js?qcusAULNeBksqffqUM2+Ig==", true)</script>
    

    <!-- The Open Graph protocol -->
    <meta property="og:url" content="http://yov.oschina.io">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="Go中的类型 | Ember">
    <meta property="og:image" content="http://yov.oschina.io/img/fa.png" />
    <meta property="og:description" content="一切有为法,如梦幻泡影。如露亦如电,应作如是观。">
    <meta property="og:article:tag" content="Go基础"> 

    
        <meta property="article:published_time" content="Wed Jan 17 2018 09:39:45 GMT+0800" />
        <meta property="article:modified_time" content="Wed Jan 17 2018 09:49:54 GMT+0800" />
    

    <!-- The Twitter Card protocol -->
    <meta name="twitter:title" content="Go中的类型 | Ember">
    <meta name="twitter:description" content="一切有为法,如梦幻泡影。如露亦如电,应作如是观。">
    <meta name="twitter:image" content="http://yov.oschina.io/img/fa.png">
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:url" content="http://yov.oschina.io" />

    <!-- Add canonical link for SEO -->
    
        <link rel="canonical" href="http://yov.oschina.io/article/Go/Go Base/Go中的类型/index.html" />
    

    <!-- Structured-data for SEO -->
    
        


<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "mainEntityOfPage": "http://yov.oschina.io/article/Go/Go Base/Go中的类型/index.html",
    "headline": "Go中的类型",
    "datePublished": "Wed Jan 17 2018 09:39:45 GMT+0800",
    "dateModified": "Wed Jan 17 2018 09:49:54 GMT+0800",
    "author": {
        "@type": "Person",
        "name": "子语",
        "image": {
            "@type": "ImageObject",
            "url": "/img/head.jpg"
        },
        "description": "一切有为法,如梦幻泡影.如露亦如电,应作如是观."
    },
    "publisher": {
        "@type": "Organization",
        "name": "Ember",
        "logo": {
            "@type":"ImageObject",
            "url": "/img/fa.png"
        }
    },
    "keywords": ",Go基础Blog",
    "description": "一切有为法,如梦幻泡影。如露亦如电,应作如是观。",
}
</script>


    

    <!-- Analytics -->
    
    
    

    <!-- Custom Head -->
    

</head>


    
        <body id="scheme-Paradox" class="lazy">
            <div class="material-layout  mdl-js-layout has-drawer is-upgraded">
                

                <!-- Main Container -->
                <main class="material-layout__content" id="main">

                    <!-- Top Anchor -->
                    <div id="top"></div>

                    
                        <!-- Hamburger Button -->
                        <button class="MD-burger-icon sidebar-toggle">
                            <span class="MD-burger-layer"></span>
                        </button>
                    

                    <!-- Post TOC -->

    
    <!-- Back Button -->
    <!--
    <div class="material-back" id="backhome-div" tabindex="0">
        <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"
           href="#" onclick="window.history.back();return false;"
           target="_self"
           role="button"
           data-upgraded=",MaterialButton,MaterialRipple">
            <i class="material-icons" role="presentation">arrow_back</i>
            <span class="mdl-button__ripple-container">
                <span class="mdl-ripple"></span>
            </span>
        </a>
    </div>
    -->


    <!-- Left aligned menu below button -->
    
    
    <button id="post-toc-trigger-btn"
        class="mdl-button mdl-js-button mdl-button--icon">
        <i class="material-icons">format_list_numbered</i>
    </button>

    <ul class="post-toc-wrap mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect" for="post-toc-trigger-btn" style="max-height:80vh; overflow-y:scroll;">
        <ol class="post-toc"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#自定义类型"><span class="post-toc-number">1.</span> <span class="post-toc-text"> 自定义类型</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#方法"><span class="post-toc-number">2.</span> <span class="post-toc-text"> 方法</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#类型的本质"><span class="post-toc-number">3.</span> <span class="post-toc-text"> 类型的本质</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#基本类型"><span class="post-toc-number">3.1.</span> <span class="post-toc-text"> 基本类型</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#引用类型"><span class="post-toc-number">3.2.</span> <span class="post-toc-text"> 引用类型</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#结构类型"><span class="post-toc-number">3.3.</span> <span class="post-toc-text"> 结构类型</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#接口"><span class="post-toc-number">4.</span> <span class="post-toc-text"> 接口</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#实现"><span class="post-toc-number">4.1.</span> <span class="post-toc-text"> 实现</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#方法集"><span class="post-toc-number">4.2.</span> <span class="post-toc-text"> 方法集</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#多态"><span class="post-toc-number">4.3.</span> <span class="post-toc-text"> 多态</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#嵌入类型"><span class="post-toc-number">5.</span> <span class="post-toc-text"> 嵌入类型</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#公开或未公开的标识符"><span class="post-toc-number">6.</span> <span class="post-toc-text"> 公开或未公开的标识符</span></a></li></ol>
    </ul>
    




<!-- Layouts -->

    <!-- Post Module -->
    <div class="material-post_container">

        <div class="material-post mdl-grid">
            <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">

                <!-- Post Header(Thumbnail & Title) -->
                
    <!-- Paradox Post Header -->
    
        
            <!-- Random Thumbnail -->
            <div class="post_thumbnail-random mdl-card__media mdl-color-text--grey-50">
            <script type="text/ls-javascript" id="post-thumbnail-script">
    var randomNum = Math.floor(Math.random() * 19 + 1);

    $('.post_thumbnail-random').attr('data-original', '/img/random/material-' + randomNum + '.png');
    $('.post_thumbnail-random').addClass('lazy');
</script>

        
    
            <p class="article-headline-p">
                Go中的类型
            </p>
        </div>





                
                    <!-- Paradox Post Info -->
                    <div class="mdl-color-text--grey-700 mdl-card__supporting-text meta">

    <!-- Author Avatar -->
    <div id="author-avatar">
        <img src="/img/head.jpg" width="44px" height="44px" alt="Author Avatar"/>
    </div>
    <!-- Author Name & Date -->
    <div>
        <strong>子语</strong>
        <span>2018 - 01 - 17</span>
    </div>

    <div class="section-spacer"></div>

    <!-- Favorite -->
    <!--
        <button id="article-functions-like-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon btn-like">
            <i class="material-icons" role="presentation">favorite</i>
            <span class="visuallyhidden">favorites</span>
        </button>
    -->

    <!-- Qrcode -->
    
        <button id="article-functions-qrcode-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">devices other</i>
    <span class="visuallyhidden">devices other</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-qrcode-button">
    <li class="mdl-menu__item">在其它设备中阅读本文章</li>
    
        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPYAAAD2CAAAAADAeSUUAAAC3klEQVR42u3aS07DQBAFwNz/0rBFQjHvTTsimSmvIuTYXYNE05/H15HXAxsbGxsbGxsbG/st2Y/4+n3/z588+3z9hGf3/H7aJGZsbGzsE9h//Ol/ArsOKDmm9iDWYsbGxsY+h32dcvJXtoeYHNYkZmxsbGzsPJEkT5uUNNjY2NjYdyWwpEnUHlNeAmFjY2Njzxs0a6HcVQL9Qy8NGxsb++3Z7aD3HT7/w3wbGxsb+y3ZkxZ/u+KztoLzddOFjY2NvSu7XaBpG0P58bVDgnoggY2Njb0puw0oX6PMx73Jod/QAsPGxsbelJ3805+vRSZPbouW9jn1eAAbGxv7w9mTwiA5lJbRpqXiuLGxsbE3ZbfNmrWm//Vh5Zi2KMLGxsY+gd0WJK9Yu0ka/UlBUvfSsLGxsbdjXyeMtZIgbwOt3Vn82rCxsbE3ZU/GqG15MCkqJmUPNjY29gnsu4apbULKF/EnSRcbGxv7NHby+smyez7EXVv3LEoRbGxs7C3YyWvyZfc8ReXvzQ+xSGDY2NjYW7PbI0jGtMnP80jyIgcbGxv7BPZaQz8vBtr008YwqsCwsbGxt2Pf9YK89b9WirSjZWxsbOxz2O0AIBkh5IOBfMzcgrGxsbH3ZrcD2jwt5Q2g/FttIwkbGxv7BPba8mV+QHelwLWkhY2NjX0Ou00zkxZ/u5ozX+7ExsbGPoGdp5+kPZQ3mNpv5WPpaGUHGxsbeyP2XUGsDQzaxcrFwTM2Njb2Aey2rb8WUFKQTMYSdQLDxsbG/nB2e+VBJ8mvvbMtgbCxsbFPYD/iKykb1sYASSqdlzfY2NjYe7Pz1v+kGFjDvDCBYWNjY2/HXmvxzxcrrwFrKbYe9GJjY2Mfyc7TzF2ly1pqxMbGxsaeDIPzkfBk3SdKh9jY2NgHsItkMC4z8hFyHsNLNpWwsbGxP4S91rLJQ5zzkjFzncCwsbGxt2Cfc2FjY2NjY2NjY2O/zfUNQwAggvEkE0YAAAAASUVORK5CYII=">
    
</ul>

    

    <!-- Tags (bookmark) -->
    
    <button id="article-functions-viewtags-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
        <i class="material-icons" role="presentation">bookmark</i>
        <span class="visuallyhidden">bookmark</span>
    </button>
    <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-viewtags-button">
        <li class="mdl-menu__item">
        <a class="post_tag-link" href="/tags/Go基础/">Go基础</a>
    </ul>
    

    <!-- Share -->
    <button id="article-fuctions-share-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">share</i>
    <span class="visuallyhidden">share</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-fuctions-share-button">
    

    
        
            <!-- Busuanzi Views -->
            <a class="post_share-link" href="#">
                <li class="mdl-menu__item">
                    <span id="busuanzi_container_page_pv">
                        <span id="busuanzi_value_page_pv"></span>&nbsp;浏览量
                    </span>
                </li>
            </a>
        
    

    <!-- Share Weibo -->
    
        <a class="post_share-link" href="http://service.weibo.com/share/share.php?appkey=&title=Go中的类型&url=http://yov.oschina.io/article/Go/Go Base/Go中的类型/index.html&pic=http://yov.oschina.io/img/fa.png&searchPic=false&style=simple" target="_blank">
            <li class="mdl-menu__item">
                分享到微博
            </li>
        </a>
    

    <!-- Share Twitter -->
    

    <!-- Share Facebook -->
    

    <!-- Share Google+ -->
    

    <!-- Share LinkedIn -->
    
        <a class="post_share-link" href="https://www.linkedin.com/shareArticle?mini=true&url=http://yov.oschina.io/article/Go/Go Base/Go中的类型/index.html&title=Go中的类型" target="_blank">
            <li class="mdl-menu__item">
                分享到 LinkedIn
            </li>
        </a>
    

    <!-- Share QQ -->
    
        <a class="post_share-link" href="http://connect.qq.com/widget/shareqq/index.html?site=Ember&title=Go中的类型&summary=一切有为法,如梦幻泡影。如露亦如电,应作如是观。&pics=http://yov.oschina.io/img/fa.png&url=http://yov.oschina.io/article/Go/Go Base/Go中的类型/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 QQ
            </li>
        </a>
    

    <!-- Share Telegram -->
    
</ul>

</div>

                

                <!-- Post Content -->
                <div id="post-content" class="mdl-color-text--grey-700 mdl-card__supporting-text fade out">
    
        <p>Go是一种静态类型的语言。这意味着编译器需要在编译时知道程序中每个值的类型。这有助于减少潜在的内存异常和bug，并且使编译器有机会对代码进行一些性能优化，提高执行效率。</p>
<h3 id="自定义类型"><a class="markdownIt-Anchor" href="#自定义类型"></a> 自定义类型</h3>
<p>Go允许用户自定义类型，当用户声明一个新类型时，该声明就给编译器提供一个框架，告知必要的内存大小和表示信息Go中有两种声明类型的方式，，一种是使用关键字<code>struct</code>，用于创建一个结构类型。结构类型通过组合一系列固定且唯一的字段来声明。结构中的字段可以用Go内置的类型声明，也可以用自定义的类型声明。</p>
<pre class="highlight"><code class="go"><span class="keyword">package</span> main

<span class="keyword">import</span> <span class="string">"fmt"</span>

<span class="comment">// 定义一个user类型</span>
<span class="keyword">type</span> user <span class="keyword">struct</span> {
	name <span class="keyword">string</span>
	age <span class="keyword">int</span>
	sex <span class="keyword">bool</span>
}

<span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {

	<span class="comment">// 声明user型变量</span>
	<span class="keyword">var</span> u user

	<span class="comment">// 不赋值时，每个字段为其对应数据类型的默认值</span>
	fmt.Println(u) <span class="comment">// &amp;#123"" 0 false&amp;#125</span>
	<span class="comment">// 给结构中的字段赋值</span>
	u.name = <span class="string">"Tom"</span>
	u.age = <span class="number">18</span>
	u.sex = <span class="literal">true</span>

	<span class="comment">// 给结构中的字段赋值，可以不按照结构中字段的顺序进行赋值</span>
	lisa := user{
		name: <span class="string">"Lisa"</span>,
		age:<span class="number">21</span>,
		sex: <span class="literal">false</span>,
	}

	<span class="comment">// 给结构中的字段赋值，必须按照结构中字段的顺序进行赋值</span>
	bill := user{
		<span class="string">"Bill"</span>, 
		<span class="number">8</span>, 
		<span class="literal">true</span>
	}

	fmt.Println(u)
	fmt.Println(lisa)
	fmt.Println(bill)
}
</code></pre>
<p>使用自定义类型声明类型中的字段</p>
<pre class="highlight"><code class="go"><span class="keyword">package</span> main

<span class="keyword">import</span> <span class="string">"fmt"</span>

<span class="comment">// 定义一个user类型</span>
<span class="keyword">type</span> user <span class="keyword">struct</span> {
   name <span class="keyword">string</span>
   age <span class="keyword">int</span>
   sex <span class="keyword">bool</span>
}

<span class="comment">// 使用自定义类型声明结构中的字段</span>
<span class="keyword">type</span> admin <span class="keyword">struct</span> {
   person user
   level <span class="keyword">string</span>
}

<span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {
   u := admin{
      person:user {
         name:<span class="string">"admin"</span>,
         age:<span class="number">18</span>,
         sex:<span class="literal">true</span>,
      },
      level:<span class="string">"1"</span>,
   }

   fmt.Println(u) 

</code></pre>
<p>此外还可以基于已有的类型，声明新类型的类型。当需要一个可以用已有类型表示新的类型时，这个方式很好用。</p>
<pre class="highlight"><code class="go"><span class="keyword">package</span> main

<span class="keyword">import</span> <span class="string">"fmt"</span>

<span class="keyword">type</span> Duration <span class="keyword">int64</span>

<span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {
   <span class="keyword">var</span> dur Duration
   dur = <span class="keyword">int64</span>(<span class="number">1000</span>)
   <span class="comment">// cannot use int64(1000) (type int64) as type Duration in assignment</span>

   fmt.Println(dur) 
}
</code></pre>
<p>尽管	<code>int64</code>是<code>Duration</code>的基础类型，但是Go不会认为它们是同一种类型。因此当将<code>int64</code>的值赋予<code>dur</code>时会报错。两种类型即使互相兼容，但不能互相赋值，编译器不会对不同类型的值做隐式转换。</p>
<h3 id="方法"><a class="markdownIt-Anchor" href="#方法"></a> 方法</h3>
<p>方法能给用户定义的类型添加新的行为。方法实际也是函数，只是在声明时，在关键字<code>func</code>和方法名之间增加了一个参数。</p>
<pre class="highlight"><code class="go"><span class="keyword">package</span> main

<span class="keyword">import</span> <span class="string">"fmt"</span>

<span class="comment">// 定义一个user类型</span>
<span class="keyword">type</span> user <span class="keyword">struct</span> {
   name  <span class="keyword">string</span>
   email <span class="keyword">string</span>
}

<span class="keyword">type</span> people <span class="keyword">struct</span> {
   name  <span class="keyword">string</span>
   email <span class="keyword">string</span>
}

<span class="comment">// 定义一个方法,(u user)表示只有类型为user的变量才可以接收该方法</span>
<span class="function"><span class="keyword">func</span> <span class="params">(u user)</span> <span class="title">notify</span><span class="params">()</span></span>{
   fmt.Printf(<span class="string">"Sending User Email To %s&lt;%s&gt; \n"</span>, u.name, u.email)
}

<span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {
   bill := user{
   	<span class="string">"bill"</span>, 
   	<span class="string">"bill@email.com"</span>
   }
   <span class="comment">// 只有类型为user的变量才能调用notify()</span>
   bill.notify()
   lisa := people{
   	<span class="string">"lisa"</span>, 
   	<span class="string">"lisa@email.com"</span>
   }
   <span class="comment">// 报错，type people has no field or method notify</span>
   lisa.notify()

}
</code></pre>
<p>该参数用于定义方法的接收者，即定义调用方法的变量。Go中的接收者有两种类型：值接收者和指针接收者。值接受者声明的方法，在调用时，会用这个值的副本来执行。</p>
<pre class="highlight"><code class="go"><span class="keyword">package</span> main

<span class="keyword">import</span> <span class="string">"fmt"</span>

<span class="comment">// 定义一个user类型</span>
<span class="keyword">type</span> user <span class="keyword">struct</span> {
   name  <span class="keyword">string</span>
   email <span class="keyword">string</span>
}

<span class="comment">// 定义一个指针接收者方法</span>
<span class="function"><span class="keyword">func</span> <span class="params">(u *user)</span> <span class="title">changeEmail</span><span class="params">(email <span class="keyword">string</span>)</span></span>  {
   u.email = email
}

<span class="comment">// 定义一个值接收者方法</span>
<span class="function"><span class="keyword">func</span> <span class="params">(u user)</span> <span class="title">changeName</span><span class="params">(name <span class="keyword">string</span>)</span></span>  {
   u.name = name
}

<span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {
   <span class="comment">// user类型的值可以调用值接收者方法，也可以调用指针接收者方法</span>
   bill := user{
   	<span class="string">"bill"</span>, 
   	<span class="string">"bill@email.com"</span>
   }
   bill.changeName(<span class="string">"lisa"</span>)
   bill.changeEmail(<span class="string">"lisa@email.com"</span>)
   fmt.Print(bill) <span class="comment">// {bill lisa@email.com}</span>

   <span class="comment">// user类型的值的指针可以调用指针接收者方法，也可以调用值接收者方法</span>
   lisa := &amp;user{<span class="string">"lisa"</span>, <span class="string">"lisa@email.com"</span>}
   lisa.changeName(<span class="string">"Lisa"</span>)
   lisa.changeEmail(<span class="string">"Lisa@mail.com"</span>)
   fmt.Println(lisa) <span class="comment">// {lisa Lisa@mail.com}</span>
}

</code></pre>
<p>由结果我们可以看出，值接收者声明的方法，执行后不会改变调用该方法的变量本身的值。但指针接收者声明的方法，不论是普通变量还是指针变量调用后，都会改变自身的值。这是因为值接收者声明的方法，被调用后，接收到的是<code>bill</code>的副本，而指针接收者声明的方法被调用后接收到的是变量自身的实际值。指针变量能够调用值接收者方法，是因为Go调整了指针的值，指针被解引用为值，即等价于<code>(*lisa).changeName(&quot;Lisa&quot;)</code>。普通变量能够调用指针接收者方法，是因为Go先引用<code>bill</code>得到了一个指针，即等价于<code>(&amp;bill).changeEmail(&quot;lisa@email.com&quot;)</code></p>
<h3 id="类型的本质"><a class="markdownIt-Anchor" href="#类型的本质"></a> 类型的本质</h3>
<p>声明一个类型之后，声明一个该类型的方法之前，需要考虑以下几点：</p>
<ul>
<li>该类型的本质是什么</li>
<li>给该类型增加或删除某个值，是要创建新值还是改变当前值。如果是创建新值，则使用值接收者声明方法；如果是修改当前值，则使用指针接收者声明方法。</li>
</ul>
<h4 id="基本类型"><a class="markdownIt-Anchor" href="#基本类型"></a> 基本类型</h4>
<p>基本类型是由语言自身提供的一组类型，如数值类型、字符串类型、布尔类型。这些类型是本质是原始的类型，因此对这些值进行操作时，会创建新值。基于这个 理论，当这些类型的值传递给方法或函数时，应该传递一个对应值的副本。</p>
<pre class="highlight"><code class="go"><span class="keyword">package</span> main

<span class="keyword">import</span> (
   <span class="string">"fmt"</span>
   <span class="string">"strings"</span>
)

<span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {
   <span class="keyword">var</span> s <span class="keyword">string</span> = <span class="string">"Hello, World"</span>
   <span class="comment">// Trim删除s中的H、e、l、o、d字母</span>
   fmt.Println(strings.Trim(s, <span class="string">"Helod"</span>)) <span class="comment">// 生成了新的字符串 ", Wor"</span>
   fmt.Println(s)  <span class="comment">// s本身不变</span>
}
</code></pre>
<p>字符串本质上是基本类型，所以在函数或方法内外传递时，传递的是字符串的副本。</p>
<h4 id="引用类型"><a class="markdownIt-Anchor" href="#引用类型"></a> 引用类型</h4>
<p>Go中的引用类型有：切片、映射、通道、接口和函数类型。当声明上述类型的变量时，创建的变量被称为<code>header</code>值。从技术细节来讲，字符串也是引用类型。每个引用类型的创建的<code>header</code>值，包含一个指向底层数据结构的指针，还包含一组独特的字段，用于管理底层数据结构。因为<code>header</code>值是为复制而设计的，所以永远不需要共享一个引用类型的值。<code>header</code>值里包含一个指针，因此通过复制来传递引用类型的值的副本，本质上就是共享底层数据结构。即引用类型的函数或方法内外传递时，依然使用的是数据副本。</p>
<h4 id="结构类型"><a class="markdownIt-Anchor" href="#结构类型"></a> 结构类型</h4>
<p>结构类型可以用于描述一组数据，这组数据的本质可以是原始的，也可以是非原始的，如果要决定在某些数据需要删除或添加结构类型的值时，该结构类型的值不应该被更改，那么需要遵守之前提到的基本类型和引用类型的规范。使用值接收者还是指针接收者，不应该由这个方法是否修改了值的本身决定，而是应该基于该类型的本质。其本质为原始，则使用值接收，非原始则使用指针接收。</p>
<h3 id="接口"><a class="markdownIt-Anchor" href="#接口"></a> 接口</h3>
<p>多态是指代码可以根据类型的具体实现采取不同行为的能力。如果一个类型实现了某个接口，所有使用这个接口的地方，都可以支持这种类型的值。</p>
<h4 id="实现"><a class="markdownIt-Anchor" href="#实现"></a> 实现</h4>
<p>接口是用来定义行为的类型。这些被定义的行为不由接口直接实现，而是通过方法由用户定义的类型实现。</p>
<h4 id="方法集"><a class="markdownIt-Anchor" href="#方法集"></a> 方法集</h4>
<p>方法集定义了接口的接收规则。</p>
<pre class="highlight"><code class="go"><span class="keyword">package</span> main

<span class="keyword">import</span> <span class="string">"fmt"</span>

<span class="comment">// 定义notifier接口，具有notify()行为</span>
<span class="keyword">type</span> notifier <span class="keyword">interface</span> {
   notify()
}

<span class="comment">// 定义user类型</span>
<span class="keyword">type</span> user <span class="keyword">struct</span> {
   name  <span class="keyword">string</span>
   email <span class="keyword">string</span>
}

<span class="comment">// 使用指针接收者实现notify()</span>
<span class="function"><span class="keyword">func</span> <span class="params">(u *user)</span> <span class="title">notify</span><span class="params">()</span></span> {
   fmt.Printf(<span class="string">"Sending user email to  %s&lt;%s&gt;\n"</span>, u.name, u.email)
}

<span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {
   <span class="comment">// 创建一个user类型的变量，并调用notify()</span>
   u := user{
   	<span class="string">"Bill"</span>, 
   	<span class="string">"bill@email.com"</span>
   }
   SendNotification(u)
   <span class="comment">// cannot use u (type user) as type notifier in argument to SendNotification:</span>
   <span class="comment">// user does not implement notifier (notify method has pointer receiver)</span>
}

<span class="comment">// 接收一个实现了notifier接口的值</span>
<span class="function"><span class="keyword">func</span> <span class="title">SendNotification</span><span class="params">(n notifier)</span></span>  {
   n.notify()
}
</code></pre>
<p>由报错的原因，我们可以看出notify()是指针接收者声明的。要想了解指针接收者来实现接口时为什么user类型的值无法实现该接口，就需要先了解方法集。方法集定义了一组关联到给定类型的值或指针的方法。定义方法时使用的接收者的类型决定了这个方法是关联到值，还是关联到指针。</p>
<p>从接收者类型角度来看方法集，值接收者定义的方法可以接收值或指针，而指针接收者定义的方法只能接收指针。所以将代码改为下述形式后，就不会报错了：</p>
<pre class="highlight"><code class="go"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {
   <span class="comment">// 创建一个user类型的变量，并调用notify()</span>
   u := user{
   	<span class="string">"Bill"</span>, 
   	<span class="string">"bill@email.com"</span>
   }
   SendNotification(&amp;u)
}
</code></pre>
<h4 id="多态"><a class="markdownIt-Anchor" href="#多态"></a> 多态</h4>
<pre class="highlight"><code class="go"><span class="keyword">package</span> main

<span class="keyword">import</span> <span class="string">"fmt"</span>

<span class="comment">// 定义notifier接口，具有notify()行为</span>
<span class="keyword">type</span> notifier <span class="keyword">interface</span> {
   notify()
}

<span class="comment">// 定义user类型</span>
<span class="keyword">type</span> user <span class="keyword">struct</span> {
   name  <span class="keyword">string</span>
   email <span class="keyword">string</span>
}

<span class="comment">// user实现的notify()</span>
<span class="function"><span class="keyword">func</span> <span class="params">(u *user)</span> <span class="title">notify</span><span class="params">()</span></span> {
   fmt.Printf(<span class="string">"Sending user email to  %s&lt;%s&gt;\n"</span>, u.name, u.email)
}

<span class="comment">// 定义admin类型</span>
<span class="keyword">type</span> admin <span class="keyword">struct</span> {
   name <span class="keyword">string</span>
   age  <span class="keyword">int</span>
}

<span class="comment">// admin实现的notify()</span>
<span class="function"><span class="keyword">func</span> <span class="params">(a *admin)</span> <span class="title">notify</span><span class="params">()</span></span> {
   fmt.Printf(<span class="string">"%s is %d years old."</span>, a.name, a.age)
}

<span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {
   <span class="comment">// 创建一个user类型的变量，并调用notify()</span>
   u := user{
   	<span class="string">"Bill"</span>, 
   	<span class="string">"bill@email.com"</span>
   }
   SendNotification(&amp;u)

   <span class="comment">// 创建一个admin类型的变量，并调用notify()</span>
   a := admin{
   	<span class="string">"Lisa"</span>, 
   	<span class="number">18</span>}
   SendNotification(&amp;a)
}

<span class="comment">// 接收一个实现了notifier接口的值</span>
<span class="function"><span class="keyword">func</span> <span class="title">SendNotification</span><span class="params">(n notifier)</span></span>  {
   n.notify()
}
</code></pre>
<p>任意一个实体类型都能实现接口<code>notifier</code>，因此<code>SendNotification</code>可以针对实现接口的类型，实现具体的行为。这就是多态。</p>
<h3 id="嵌入类型"><a class="markdownIt-Anchor" href="#嵌入类型"></a> 嵌入类型</h3>
<p>Go语言允许用户扩展或者修改已有类型的行为。这个功能对代码复用很重要，在修改已有类型以符合新类型的时候很重要。这个功能是通过<code>嵌入类型（type embedding）</code>完成的。嵌入类型是将已有的类型直接声明在新结构类型中。被嵌入的类型被称为新的外部类型的内部类型。</p>
<p>通过嵌入类型，与内部类型相关的标识符会提升到外部类型上。这些被提升的标识符就像直接声明在外部类型里的标识符一样，也是外部类型的一部分。这样外部类型就组合了内部类型包含的所有属性，并且可以添加新的字段和方法。外部类也可以通过声明与内部类型标识符同名的标识符来覆盖内部标识符或者方法。</p>
<pre class="highlight"><code class="go"><span class="keyword">package</span> main

<span class="keyword">import</span> <span class="string">"fmt"</span>

<span class="keyword">type</span> user <span class="keyword">struct</span> {
   name  <span class="keyword">string</span>
   email <span class="keyword">string</span>
}

<span class="function"><span class="keyword">func</span> <span class="params">(u *user)</span> <span class="title">notify</span><span class="params">()</span></span> {
   fmt.Printf(<span class="string">"Sending user email to %s&lt;%s&gt;\n"</span>, u.name, u.email)
}

<span class="keyword">type</span> admin <span class="keyword">struct</span> {
   user <span class="comment">// 嵌入类型</span>
   level <span class="keyword">string</span>
}

<span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {
   ad := admin{
      user: user{
         name:  <span class="string">"john smith"</span>,
         email: <span class="string">"john@yohoo.com"</span>,
      },
      level: <span class="string">"super"</span>,
   }

   <span class="comment">// 可通过内部类型调用内部类型的方法</span>
   ad.user.notify()

   <span class="comment">// 也可以直接使用外部类型直接调用方法</span>
   ad.notify()
}
</code></pre>
<p>上述代码中将<code>user</code>嵌入<code>admin</code>类型中只需要在外部类型中声明要嵌入的类型名即可。对于外部类型而言，内部类型是存在的，所以即使外部类型可以使用内部类型的属性名来访问内部类型的值。也可以直接访问内部类型<code>user</code>来调用外部类型方法，也可以直接用外部类型的变量调用<code>notify()</code>。</p>
<pre class="highlight"><code class="go"><span class="keyword">package</span> main

<span class="keyword">import</span> <span class="string">"fmt"</span>

<span class="comment">// 定义个接口，接口有notify()</span>
<span class="keyword">type</span> notifier <span class="keyword">interface</span> {
   notify()
}

<span class="keyword">type</span> user <span class="keyword">struct</span> {
   name  <span class="keyword">string</span>
   email <span class="keyword">string</span>
}

<span class="comment">// 通过user类型的值的指针调用notify()</span>
<span class="function"><span class="keyword">func</span> <span class="params">(u *user)</span> <span class="title">notify</span><span class="params">()</span></span> {
   fmt.Printf(<span class="string">"Sending user email to %s&lt;%s&gt;\n"</span>, u.name, u.email)
}

<span class="keyword">type</span> admin <span class="keyword">struct</span> {
   user <span class="comment">// 嵌入类型</span>
   level <span class="keyword">string</span>
}

<span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {
   ad := admin{
      user: user{
         name:  <span class="string">"john smith"</span>,
         email: <span class="string">"john@yohoo.com"</span>,
      },
      level: <span class="string">"super"</span>,
   }

   <span class="comment">// admin类型的值的指针也可以传入</span>
   sendNotification(&amp;ad)
}

<span class="comment">// 接收一个实现notifier接口的值</span>
<span class="function"><span class="keyword">func</span> <span class="title">sendNotification</span><span class="params">(n notifier)</span></span> {
   n.notify()
}                     
</code></pre>
<p>由上述代码可知，如果嵌入类型实现了某接口，外部类型也相当于实现了该接口。如果外部类型并不需要使用内部类型对接口的实现方式，想定义属于自己的实现方式，应按照下述代码：</p>
<pre class="highlight"><code class="go"><span class="function"><span class="keyword">func</span> <span class="params">(a *admin)</span> <span class="title">notify</span><span class="params">()</span></span> {
	fmt.Printf(<span class="string">"Sending admin email to %s&lt;%s&gt;\n"</span>, a.name, a.email)
}
</code></pre>
<p>在上述代码添加由admin类型的值的指针调用的方法，此时再运行上述代码，调用的就不再是user类型的值的指针调用的方法。</p>
<pre class="highlight"><code class="go"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {
   ad := admin{
      user: user{
         name:  <span class="string">"john smith"</span>,
         email: <span class="string">"john@yohoo.com"</span>,
      },
      level: <span class="string">"super"</span>,
   }

   <span class="comment">// admin类型的值的指针也可以传入</span>
   sendNotification(&amp;ad)  <span class="comment">// Sending admin email to john smith&lt;john@yohoo.com&gt;</span>
   sendNotification(&amp;ad.user) <span class="comment">// Sending user email to john smith&lt;john@yohoo.com&gt;</span>
}
</code></pre>
<h3 id="公开或未公开的标识符"><a class="markdownIt-Anchor" href="#公开或未公开的标识符"></a> 公开或未公开的标识符</h3>
<p>定义一个<code>counters/counters.go</code></p>
<pre class="highlight"><code class="go"><span class="keyword">package</span> counters

<span class="comment">// 未公开类型</span>
<span class="keyword">type</span> alertCounter <span class="keyword">int</span>

</code></pre>
<p>此时在主程序中调用该类型</p>
<pre class="highlight"><code class="go"><span class="keyword">package</span> main

<span class="keyword">import</span> (
   <span class="string">"demo/counters"</span>
   <span class="string">"fmt"</span>
)

<span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {
   counter := counters.alertCounter(<span class="number">10</span>)
   fmt.Println(counter)
   <span class="comment">/*
   .\main.go:9:13: cannot refer to unexported name counters.alertCounter
   .\main.go:9:13: undefined: counters.alertCounter
    */</span>

}

</code></pre>
<p>在Go中，当一个标识符以小写字母开头时，这个标识符就是未公开的，即包外的代码不可见。当一个标识符以大写字母开头，其就是公开的，即包外可见。修改上述程序：</p>
<pre class="highlight"><code class="go"><span class="keyword">package</span> counters

<span class="comment">// 公开类型</span>
<span class="keyword">type</span> AlertCounter <span class="keyword">int</span>

=======================================

<span class="keyword">package</span> main

<span class="keyword">import</span> (
   <span class="string">"demo/counters"</span>
   <span class="string">"fmt"</span>
)

<span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {
   counter := counters.AlertCounter(<span class="number">10</span>)
   fmt.Println(counter) <span class="comment">// 10</span>
}

</code></pre>
<p>或者在不修改<code>counter.go</code>中<code>alertCounter</code>的情况下，也可以使用以下方式调用未公开的类型：</p>
<pre class="highlight"><code class="go"><span class="keyword">package</span> counters

<span class="comment">// 未公开类型</span>
<span class="keyword">type</span> alertCounter <span class="keyword">int</span>

<span class="comment">// 创建并返回一个alertCounter类型的值</span>
<span class="function"><span class="keyword">func</span> <span class="title">New</span><span class="params">(value <span class="keyword">int</span>)</span> <span class="title">alertCounter</span></span>  {
   <span class="keyword">return</span> alertCounter(value)
}

===========================================
<span class="keyword">package</span> main

<span class="keyword">import</span> (
	<span class="string">"demo/counters"</span>
	<span class="string">"fmt"</span>
)

<span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {
	counter := counters.New(<span class="number">10</span>)
	fmt.Println(counter) <span class="comment">// 10</span>
}

</code></pre>
<p>我们可以实现工厂函数，来返回一个未公开类型的值。Go语言习惯将工厂函数命名为<code>New</code>，它创建了一个未公开类型的值，并将其返回给调用者。该程序能通过编译，需要两个条件：第一、公开或未公开的标识符不是一个值；第二、短变量声明操作符，有能力捕获引用的类型，并创建一个未公开的类型的变量。永远不能显式创建一个未公开的类型的变量，不过短变量声明操作符可以这么做。</p>
<pre class="highlight"><code class="go"><span class="keyword">package</span> entities

<span class="keyword">type</span> User <span class="keyword">struct</span> {
   Name <span class="keyword">string</span>
   <span class="comment">// 未公开字段</span>
   email <span class="keyword">string</span>
}

==================

<span class="keyword">package</span> main

<span class="keyword">import</span> (
	<span class="string">"demo/entities"</span>
	<span class="string">"fmt"</span>
)

<span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {
	u := entities.User{
		Name:  <span class="string">"Bill"</span>,
		email: <span class="string">"bill@email.com"</span>,
		<span class="comment">// unknown field 'email' in struct literal of type entities.User</span>
	}
	fmt.Println(u)
}

</code></pre>
<p>上述代码出错，是由于<code>email</code>字段首字母为小写，是不公开字段。下面看展示公开和未公开的内嵌类型是如何工作的。</p>
<pre class="highlight"><code class="go"><span class="keyword">package</span> entities

<span class="keyword">type</span> user <span class="keyword">struct</span> {
   Name <span class="keyword">string</span>
   Email <span class="keyword">string</span>
}

<span class="keyword">type</span> Admin <span class="keyword">struct</span> {
   user <span class="comment">// 嵌入的类型未公开</span>
   Rights <span class="keyword">int</span>
}

=====================

<span class="keyword">package</span> main

<span class="keyword">import</span> (
	<span class="string">"demo/entities"</span>
	<span class="string">"fmt"</span>
)

<span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {
	a := entities.Admin{
		Rights: <span class="number">10</span>,
	}

	a.Name = <span class="string">"Bill"</span>
	a.Email = <span class="string">"bill@email.com"</span>

	fmt.Println(a)
}

</code></pre>
<p>上述代码无法直接通过结构字面量的方式初始化该内部类型。但即便内部类型是未公开，内部类型里声明的字段依旧是公开的，。既然内部类型的标识符提升到了外部类型，这些公开字段也可以通过外部类型的字段的值来访问。</p>

        
                <blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;">
                    <p><strong>
                         
                            This blog is under a <a href="/creativecommons.html" target="_blank">CC BY-NC-SA 3.0 Unported License</a>
                        </strong>
                        <br>
                        <strong>本文链接：</strong><a href="http://yov.oschina.io/article/Go/Go Base/Go中的类型/">http://yov.oschina.io/article/Go/Go Base/Go中的类型/</a>
                    </p>
                </blockquote>
        
    

    
</div>


                

                <!-- Post Comments -->
                
                    
    <!-- 使用 gitcoment -->
<div id="gitment-comment">
    <!-- Gitment 评论框 -->
<div id="container"></div>
</div>
<style>
    #gitment-comment{
        background-color: #eee;
        padding: 2pc;
    }
</style>
<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">
<script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script>
<script>
    var gitment = new Gitment({
        //id: '页面 ID', // 可选。默认为 location.href
        owner: 'youyouvi',
        repo: 'youyouvi.github.io',
        oauth: {
            client_id: 'fdcff2e0ff2fdfecce93',
            client_secret: 'c0cf25fd016b2c8831a622a292a3692daa54c73a',
        },
    })
    gitment.render('container')
</script>

                
            </div>

            <!-- Post Prev & Next Nav -->
            <nav class="material-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col">
    <!-- Prev Nav -->
    
        <a href="/article/Go/Go Base/数组、切片和映射/" id="post_nav-newer" class="prev-content">
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_back</i>
            </button>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            新篇
        </a>
    

    <!-- Section Spacer -->
    <div class="section-spacer"></div>

    <!-- Next Nav -->
    
        <a href="/article/微服务/Micro Service/实践篇03--Spring Cloud Eureka/" id="post_nav-older" class="next-content">
            旧篇
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_forward</i>
            </button>
        </a>
    
</nav>

        </div>
    </div>



                    
                        <!-- Overlay For Active Sidebar -->
<div class="sidebar-overlay"></div>

<!-- Material sidebar -->
<aside id="sidebar" class="sidebar sidebar-colored sidebar-fixed-left" role="navigation">
    <div id="sidebar-main">
        <!-- Sidebar Header -->
        <div class="sidebar-header header-cover" style="background-image: url(/img/sidebar_header.png);">
    <!-- Top bar -->
    <div class="top-bar"></div>

    <!-- Sidebar toggle button -->
    <button type="button" class="sidebar-toggle mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" style="display: initial;" data-upgraded=",MaterialButton,MaterialRipple">
        <i class="material-icons">clear_all</i>
        <span class="mdl-button__ripple-container">
            <span class="mdl-ripple">
            </span>
        </span>
    </button>

    <!-- Sidebar Avatar -->
    <div class="sidebar-image">
        <img src="/img/head.jpg" alt="子语's avatar">
    </div>

    <!-- Sidebar Email -->
    <a data-toggle="dropdown" class="sidebar-brand" href="#settings-dropdown">
        yo.vi@foxmail.com
        <b class="caret"></b>
    </a>
</div>


        <!-- Sidebar Navigation  -->
        <ul class="nav sidebar-nav">
    <!-- User dropdown  -->
    <li class="dropdown">
        <ul id="settings-dropdown" class="dropdown-menu">
            
                <li>
                    <a href="http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&amp;email=HGVzMmp1XHpzZHF9dXAyf3Nx" target="_blank" title="Email Me">
                        
                            <i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">email</i>
                        
                        Email Me
                    </a>
                </li>
            
        </ul>
    </li>

    <!-- Homepage -->
    
        <li id="sidebar-first-li">
            <a href="/">
                
                    <i class="material-icons sidebar-material-icons">home</i>
                
                主页
            </a>
        </li>
        
    

    <!-- Archives  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">inbox</i>
                
                    归档
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
            <li>
                <a class="sidebar_archives-link" href="/archives/2018/01/">一月 2018<span class="sidebar_archives-count">10</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/12/">十二月 2017<span class="sidebar_archives-count">9</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/11/">十一月 2017<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/10/">十月 2017<span class="sidebar_archives-count">14</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/09/">九月 2017<span class="sidebar_archives-count">14</span></a>
            </ul>
        </li>
        
    

    <!-- Categories  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">chrome_reader_mode</i>
                
                分类
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
                <li>
                <a class="sidebar_archives-link" href="/categories/Go/">Go<span class="sidebar_archives-count">7</span></a></li><li><a class="sidebar_archives-link" href="/categories/Java/">Java<span class="sidebar_archives-count">22</span></a></li><li><a class="sidebar_archives-link" href="/categories/博客搭建/">博客搭建<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/categories/容器/">容器<span class="sidebar_archives-count">6</span></a></li><li><a class="sidebar_archives-link" href="/categories/工具/">工具<span class="sidebar_archives-count">5</span></a></li><li><a class="sidebar_archives-link" href="/categories/微服务/">微服务<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/categories/框架/">框架<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/categories/测试/">测试<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/语言/">语言<span class="sidebar_archives-count">1</span></a>
            </ul>
        </li>
        
            <li class="divider"></li>
        
    

    <!-- Pages  -->
    
        <li>
            <a href="/tags" title="标签">
                
                    <i class="material-icons sidebar-material-icons">cloud</i>
                
                标签
            </a>
        </li>
        
    
        <li>
            <a href="/timeline" title="时间轴">
                
                    <i class="material-icons sidebar-material-icons">timeline</i>
                
                时间轴
            </a>
        </li>
        
    
        <li>
            <a href="/about" title="关于我">
                
                    <i class="material-icons sidebar-material-icons">person</i>
                
                关于我
            </a>
        </li>
        
    
        <li>
            <a href="/links" title="友情链接">
                
                    <i class="material-icons sidebar-material-icons">links</i>
                
                友情链接
            </a>
        </li>
        
    

    <!-- Article Number  -->
    
        <li>
            <a href="/archives">
                文章总数
                <span class="sidebar-badge">50</span>
            </a>
        </li>
        
    
</ul>


        <!-- Sidebar Footer -->
        <!--
I'm glad you use this theme, the development is no so easy, I hope you can keep the copyright, I will thank you so much.
If you still want to delete the copyrights, could you still retain the first one? Which namely "Theme Material"
It will not impact the appearance and can give developers a lot of support :)

很高兴您使用并喜欢该主题，开发不易 十分谢谢与希望您可以保留一下版权声明。
如果您仍然想删除的话 能否只保留第一项呢？即 "Theme Material"
它不会影响美观并可以给开发者很大的支持和动力。 :)
-->

<!-- Sidebar Divider -->


<!-- Theme Material -->


<!-- Help & Support -->
<!--

    <a href="mailto:hiviosey@gmail.com" class="sidebar-footer-text-a">
        <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
        sidebar.help
        <span class="mdl-button__ripple-container">
          <span class="mdl-ripple"></span>
        </span>
      </div>
    </a>

-->

<!-- Feedback -->
<!--

    <a href="https://github.com/viosey/hexo-theme-material/issues" target="_blank" class="sidebar-footer-text-a">
        <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
        sidebar.feedback
        <span class="mdl-button__ripple-container"><span class="mdl-ripple"></span></span></div>
    </a>

-->

<!-- About Theme -->
<!--

    <a href="https://blog.viosey.com/index.php/Material.html" target="_blank" class="sidebar-footer-text-a">
        <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
             sidebar.about_theme
            <span class="mdl-button__ripple-container"><span class="mdl-ripple"></span></span></div>
    </a>

-->

    </div>

    <!-- Sidebar Image -->
    
    <span id="footer-image">
        <a href="https://www.upyun.com/" target="_blank" title="upyun_logo">
            <img src="/img/upyun_logo.svg" alt="upyun_logo"><!--
     --></a>
    </span>


</aside>

                    

                    
                        <!-- Footer Top Button -->
                        <div id="back-to-top" class="toTop-wrap">
    <a href="#top" class="toTop">
        <i class="material-icons footer_top-i">expand_less</i>
    </a>
</div>

                    

                    <!--Footer-->
<footer class="mdl-mini-footer" id="bottom">
    
        <!-- Paradox Footer Left Section -->
        <div class="mdl-mini-footer--left-section sns-list">
    <!-- Twitter -->
    

    <!-- Facebook -->
    

    <!-- Google + -->
    

    <!-- Weibo -->
    

    <!-- Instagram -->
    

    <!-- Tumblr -->
    

    <!-- Github -->
    
        <a href="https://github.com/youyouvi" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-github">
                <span class="visuallyhidden">Github</span>
            </button><!--
     --></a>
    

    <!-- LinkedIn -->
    
        <a href="https://www.linkedin.com" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-linkedin">
                <span class="visuallyhidden">LinkedIn</span>
            </button><!--
     --></a>
    

    <!-- Zhihu -->
    

    <!-- Bilibili -->
    

    <!-- Telegram -->
    
    
    <!-- V2EX -->
    
</div>


        <!--Copyright-->
        <div id="copyright">
            Copyright&nbsp;©<script type="text/javascript">var fd = new Date();document.write("&nbsp;" + fd.getFullYear() + "&nbsp;");</script>Ember
            
        </div>

        <!-- Paradox Footer Right Section -->

        <!--
        I am glad you use this theme, the development is no so easy, I hope you can keep the copyright.
        It will not impact the appearance and can give developers a lot of support :)

        很高兴您使用该主题，开发不易，希望您可以保留一下版权声明。
        它不会影响美观并可以给开发者很大的支持。 :)
        -->

        <!--<div class="mdl-mini-footer--right-section">
            <div>
                <div class="footer-develop-div">Powered by <a href="https://hexo.io" target="_blank" class="footer-develop-a">Hexo</a></div>
                <div class="footer-develop-div">Theme - <a href="https://github.com/viosey/hexo-theme-material" target="_blank" class="footer-develop-a">Material</a></div>
            </div>
        </div>-->
    
</footer>


                    <!-- Import JS File -->

    <script>lsloader.load("lazyload_js","/js/lazyload.min.js?1BcfzuNXqV+ntF6gq+5X3Q==", true)</script>



    <script>lsloader.load("js_js","/js/js.min.js?V/53wGualMuiPM3xoetD5Q==", true)</script>



    <script>lsloader.load("np_js","/js/nprogress.js?pl3Qhb9lvqR1FlyLUna1Yw==", true)</script>


<script type="text/ls-javascript" id="NProgress-script">
    NProgress.configure({
        showSpinner: true
    });
    NProgress.start();
    $('#nprogress .bar').css({
        'background': '#29d'
    });
    $('#nprogress .peg').css({
        'box-shadow': '0 0 10px #29d, 0 0 15px #29d'
    });
    $('#nprogress .spinner-icon').css({
        'border-top-color': '#29d',
        'border-left-color': '#29d'
    });
    setTimeout(function() {
        NProgress.done();
        $('.fade').removeClass('out');
    }, 800);
</script>







    <!-- Busuanzi -->
    <script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>



   <!-- Gitment -->





<!-- UC Browser Compatible -->
<script>
	var agent = navigator.userAgent.toLowerCase();
	if(agent.indexOf('ucbrowser')>0) {
		document.write('<link rel="stylesheet" href="/css/uc.css">');
	   alert('由于 UC 浏览器使用极旧的内核，而本网站使用了一些新的特性。\n为了您能更好的浏览，推荐使用 Chrome 或 Firefox 浏览器。');
	}
</script>

<!-- Import prettify js  -->

    
        
            <script>lsloader.load("prettify_js","/js/prettify.min.js?WN07fivHQSMKWy7BmHBB6w==", true)</script>
        
    



<!-- Window Load -->
<!-- add class for prettify -->
<script type="text/ls-javascript" id="window-load">
    $(window).on('load', function() {
        // Post_Toc parent position fixed
        $('.post-toc-wrap').parent('.mdl-menu__container').css('position', 'fixed');
    });

    
        
            $(function() {
                $('pre').addClass('prettyprint linenums').attr('style', 'overflow:auto;');
                prettyPrint();
                })
        
    
    
</script>

<!-- MathJax Load-->


<!-- Bing Background -->


<script type="text/ls-javascript" id="lazy-load">
    // Offer LazyLoad
    queue.offer(function(){
        $('.lazy').lazyload({
            effect : 'show'
        });
    });

    // Start Queue
    $(document).ready(function(){
        setInterval(function(){
            queue.execNext();
        },200);
    });
</script>

<!-- Custom Footer -->



<script>
    (function(){
        var scriptList = document.querySelectorAll('script[type="text/ls-javascript"]')

        for (var i = 0; i < scriptList.length; ++i) {
            var item = scriptList[i];
            lsloader.runInlineScript(item.id,item.id);
        }
    })()
console.log('\n %c © Material Theme | Version: 1.5.0 | https://github.com/viosey/hexo-theme-material %c \n', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-left-radius:5px;border-bottom-left-radius:5px;', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-right-radius:5px;border-bottom-right-radius:5px;');
</script>

                </main>
            </div>
        </body>
    
</html>
